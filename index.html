<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Controle de Grana</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>

<header class="header">
  <div class="wrap headerInner">
    <div>
      <h1>Controle de Grana</h1>
      <p>Rendas • Gastos • Dívidas • Reserva • Histórico</p>
    </div>

    <div class="headerBtns">
      <button type="button" id="btnExport" class="btn ghost">Exportar</button>
      <label class="btn ghost file">
        Importar
        <input id="fileImport" type="file" accept="application/json" />
      </label>
      <button type="button" id="btnReset" class="btn danger">Zerar</button>
    </div>
  </div>
</header>

<main class="wrap">

  <!-- TABS -->
  <nav class="tabs" id="tabs">
    <button type="button" class="tab" data-tab="dash">Dashboard</button>
    <button type="button" class="tab" data-tab="income">Rendas</button>
    <button type="button" class="tab" data-tab="costs">Gastos</button>
    <button type="button" class="tab" data-tab="debts">Dívidas</button>
    <button type="button" class="tab" data-tab="reserve">Reserva</button>
    <button type="button" class="tab" data-tab="history">Histórico</button>
  </nav>

  <!-- DASH -->
  <section class="page" id="page-dash">
    <div class="grid">
      <section class="card">
        <div class="cardTop">
          <h2>Resumo do mês</h2>
          <button type="button" id="btnSave" class="btn">Salvar tudo</button>
        </div>

        <div class="stats">
          <div class="stat"><span>Renda total</span><strong id="sumIncome">R$ 0,00</strong></div>
          <div class="stat"><span>Gastos fixos</span><strong id="sumFixed">R$ 0,00</strong></div>
          <div class="stat"><span>Aportes (dívida + reserva)</span><strong id="sumAports">R$ 0,00</strong></div>
          <div class="stat"><span>Sobra do mês</span><strong id="sumLeft" class="good">R$ 0,00</strong></div>
        </div>

        <hr />

        <div class="stats">
          <div class="stat"><span>Dívida restante (estim.)</span><strong id="sumDebtAfter">R$ 0,00</strong></div>
          <div class="stat"><span>Meses pra quitar (sem juros)</span><strong id="sumMonths">—</strong></div>
          <div class="stat"><span>Reserva após aporte</span><strong id="sumReserveAfter">R$ 0,00</strong></div>
          <div class="stat"><span>Meta reserva (6x fixos)</span><strong id="sumReserveGoal">R$ 0,00</strong></div>
        </div>

        <div class="barWrap">
          <div class="barLabel">
            <span>Alocação do mês</span>
            <span id="sumPerc">—</span>
          </div>
          <div class="bar">
            <div id="barFixed" class="seg fixed"></div>
            <div id="barDebt" class="seg debt"></div>
            <div id="barReserve" class="seg reserve"></div>
            <div id="barLeft" class="seg left"></div>
          </div>
          <div class="legend">
            <span><i class="dot fixed"></i> Fixos</span>
            <span><i class="dot debt"></i> Dívida</span>
            <span><i class="dot reserve"></i> Reserva</span>
            <span><i class="dot left"></i> Sobra</span>
          </div>
        </div>

        <div class="row">
          <button type="button" id="btnCloseMonth" class="btn ok">Fechar mês</button>
          <small class="muted">Fechar mês salva no histórico e atualiza dívida/reserva automaticamente.</small>
        </div>
      </section>

      <section class="card">
        <h2>Metas rápidas</h2>
        <div class="grid2">
          <div class="field">
            <label>Meta: ficar sem dívidas até</label>
            <input id="goalDebtDate" type="month" />
          </div>
          <div class="field">
            <label>Meta reserva (meses de contas)</label>
            <select id="goalReserveMonths">
              <option value="3">3</option>
              <option value="6" selected>6</option>
              <option value="9">9</option>
              <option value="12">12</option>
            </select>
          </div>
        </div>

        <div class="stats">
          <div class="stat"><span>Previsão quitação</span><strong id="goalDebtETA">—</strong></div>
          <div class="stat"><span>Status</span><strong id="goalDebtStatus">—</strong></div>
          <div class="stat"><span>Meta reserva (R$)</span><strong id="goalReserveValue">R$ 0,00</strong></div>
          <div class="stat"><span>Tempo pra meta reserva</span><strong id="goalReserveETA">—</strong></div>
        </div>

        <div class="hint">
          Dica: esse app é offline (localStorage). Exporta JSON pra backup.
        </div>
      </section>
    </div>
  </section>

  <!-- INCOME -->
  <section class="page" id="page-income">
    <section class="card">
      <div class="cardTop">
        <h2>Rendas</h2>
        <button type="button" class="btn" data-save>Salvar</button>
      </div>

      <div class="grid2">
        <div class="field">
          <label>Sua renda (Uber)</label>
          <input id="incomeYou" type="number" min="0" step="0.01" placeholder="Ex: 7200" />
        </div>
        <div class="field">
          <label>Renda da esposa</label>
          <input id="incomeWife" type="number" min="0" step="0.01" placeholder="Ex: 3000" />
        </div>
        <div class="field">
          <label>Extras (por fora)</label>
          <input id="incomeExtra" type="number" min="0" step="0.01" placeholder="Ex: 500" />
        </div>
      </div>

      <div class="hint">Aqui é só renda. Nada misturado.</div>
    </section>
  </section>

  <!-- COSTS -->
  <section class="page" id="page-costs">
    <section class="card">
      <div class="cardTop">
        <h2>Gastos</h2>
        <button type="button" class="btn" data-save>Salvar</button>
      </div>

      <div class="grid2">
        <div class="field">
          <label>Contas fixas (total)</label>
          <input id="fixedCosts" type="number" min="0" step="0.01" placeholder="Ex: 5000" />
        </div>
      </div>

      <div class="hint">Depois eu posso adicionar “variáveis por categoria” (gasolina, mercado, etc.).</div>
    </section>
  </section>

  <!-- DEBTS -->
  <section class="page" id="page-debts">
    <section class="card">
      <div class="cardTop">
        <h2>Dívidas</h2>
        <button type="button" class="btn" data-save>Salvar</button>
      </div>

      <div class="grid2">
        <div class="field">
          <label>Dívida total atual</label>
          <input id="debtTotal" type="number" min="0" step="0.01" placeholder="Ex: 60000" />
        </div>
        <div class="field">
          <label>Aporte mensal em dívidas</label>
          <input id="debtPay" type="number" min="0" step="0.01" placeholder="Ex: 4000" />
        </div>
      </div>

      <div class="hint">A projeção é sem juros (pra simplicidade).</div>
    </section>
  </section>

  <!-- RESERVE -->
  <section class="page" id="page-reserve">
    <section class="card">
      <div class="cardTop">
        <h2>Reserva</h2>
        <button type="button" class="btn" data-save>Salvar</button>
      </div>

      <div class="grid2">
        <div class="field">
          <label>Reserva atual</label>
          <input id="reserveTotal" type="number" min="0" step="0.01" placeholder="Ex: 2000" />
        </div>
        <div class="field">
          <label>Aporte mensal na reserva</label>
          <input id="reserveAdd" type="number" min="0" step="0.01" placeholder="Ex: 1200" />
        </div>
      </div>

      <div class="subbox">
        <h3 class="sub">Carteira sugerida (Reserva)</h3>
        <p class="muted">70% Tesouro Selic • 20% CDB liquidez diária • 10% conta remunerada</p>
      </div>
    </section>
  </section>

  <!-- HISTORY -->
  <section class="page" id="page-history">
    <section class="card">
      <div class="cardTop">
        <h2>Histórico</h2>
        <div class="row">
          <button type="button" id="btnClearHistory" class="btn ghost">Limpar histórico</button>
        </div>
      </div>

      <div class="tableWrap">
        <table>
          <thead>
            <tr>
              <th>Mês</th>
              <th>Renda</th>
              <th>Fixos</th>
              <th>Dívida</th>
              <th>Reserva</th>
              <th>Sobra</th>
              <th>Dívida após</th>
              <th>Reserva após</th>
            </tr>
          </thead>
          <tbody id="historyBody"></tbody>
        </table>
      </div>

      <div class="hint">Feche o mês no Dashboard pra alimentar esse histórico.</div>
    </section>
  </section>

</main>

<script src="./app.js"></script>
</body>
</html>
